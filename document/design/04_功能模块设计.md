# 功能模块详细设计

## 系统模块设计

### 1. 用户服务（face-sign-user）
- **功能**：整合用户管理、学生管理、教师管理和管理员管理功能。
- **实现要点**：
    - 统一处理用户相关的操作，包括注册、登录、信息更新、删除等。
    - 通过角色区分不同用户类型（学生、教师、管理员），实现差异化管理。
    - 优化数据库查询，减少重复代码，提高开发效率。

### 2. 班级与课程服务（face-sign-course）
- **功能**：管理班级信息和课程信息。
- **实现要点**：
    - 班级和课程信息相对独立，但又存在关联，可以放在同一个服务中进行管理。
    - 提供班级和课程的增删改查功能，以及班级与课程的关联管理。

### 3. 考勤与请假服务（face-sign-attendance）
- **功能**：处理学生的考勤记录和请假申请，包括人脸识别考勤、手动标记考勤状态、生成考勤统计报表、请假申请提交、审批流程、状态更新以及与考勤记录的关联等。
- **实现要点**：
    - 整合考勤和请假相关业务逻辑，与用户服务、班级课程服务、通知服务进行必要的交互。
    - 优化人脸识别算法和考勤记录的存储查询，确保系统的高效运行。
    - 提供学生提交请假申请的接口，支持填写请假原因、时间等信息。
    - 实现教师审批请假申请的流程，包括查看申请详情、批准或拒绝操作，并记录审批意见。
    - 确保请假记录与考勤数据的一致性，如在考勤记录中标记请假状态。
    - 支持管理员查看和管理所有请假记录，提供请假数据的统计和分析功能。

### 4. 通知服务（face-sign-notification）
- **功能**：发送和接收考勤相关的通知，如缺勤提醒、课程变更通知等。
- **实现要点**：
    - 独立管理通知的发送和接收逻辑，提高通知系统的稳定性和可靠性。
    - 提供灵活的通知模板和发送渠道配置。

### 5. 系统设置与日志服务（face-sign-system）
- **功能**：配置系统参数，管理用户角色和权限，记录和管理系统的操作日志。
- **实现要点**：
    - 将系统设置和日志管理功能整合在一起，方便统一管理和维护。
    - 提供直观的界面或接口，方便管理员进行系统配置和日志查询。

### 6. 人脸识别服务（face-sign-recognition）
- **功能**：实现人脸识别技术，用于考勤打卡等功能。
- **实现要点**：
    - 专注于人脸识别算法的实现和优化，与考勤与请假服务进行紧密配合。
    - 提供高效的人脸识别接口，支持高并发访问。

### 7. 公共服务（face-sign-common）
- **功能**：用于提供各种工具类和公共配置
- **实现要点**：
  - 集成各种公共配置或工具类，如jwt，返回统一的json数据格式

## 模块间的关系与交互

- **用户服务**与**班级与课程服务**：用户服务管理用户信息，班级与课程服务管理班级和课程信息，两者通过学生和教师的班级、课程关联进行交互。
- **考勤与请假服务**与**用户服务**、**班级与课程服务**、**通知服务**：考勤与请假服务需要获取用户信息和课程信息，与用户服务和班级与课程服务进行数据交互，同时通过通知服务向相关用户发送请假相关的提醒和结果通知。
- **通知服务**与**用户服务**：通知服务需要获取用户信息，以便准确地发送通知给相应的用户。
- **系统设置与日志服务**与其他服务：系统设置与日志服务为其他服务提供统一的系统配置和日志记录功能，其他服务需要向其报告操作日志。
- **人脸识别服务**与**考勤与请假服务**：人脸识别服务为人脸识别考勤提供技术支持，考勤与请假服务调用人脸识别服务的接口实现考勤打卡功能。


